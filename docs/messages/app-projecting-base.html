<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="A statically generated blog example using Next.js."/><title>Принципы проектирования приложения</title><meta property="og:title" content="Принципы проектирования приложения"/><meta property="og:description" content="Summary within 60 characters"/><meta property="og:image" content="#"/><meta name="next-head-count" content="17"/><meta property="og:site_name" content="Виталик Леонов"/><meta name="telegram:channel" content="@naverstal"/><link rel="preload" href="https://github.com/Crysp/www/blob/main/docs/_next/static/css/48d4bcc499491c50.css" as="style" crossorigin=""/><link rel="stylesheet" href="https://github.com/Crysp/www/blob/main/docs/_next/static/css/48d4bcc499491c50.css" crossorigin="" data-n-g=""/><link rel="preload" href="https://github.com/Crysp/www/blob/main/docs/_next/static/css/2721d53f71785ddb.css" as="style" crossorigin=""/><link rel="stylesheet" href="https://github.com/Crysp/www/blob/main/docs/_next/static/css/2721d53f71785ddb.css" crossorigin="" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="https://github.com/Crysp/www/blob/main/docs/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="https://github.com/Crysp/www/blob/main/docs/_next/static/chunks/webpack-8bd57da71c59d1e1.js" defer="" crossorigin=""></script><script src="https://github.com/Crysp/www/blob/main/docs/_next/static/chunks/framework-66d32731bdd20e83.js" defer="" crossorigin=""></script><script src="https://github.com/Crysp/www/blob/main/docs/_next/static/chunks/main-e502f18df20e11b2.js" defer="" crossorigin=""></script><script src="https://github.com/Crysp/www/blob/main/docs/_next/static/chunks/pages/_app-b634095661cae490.js" defer="" crossorigin=""></script><script src="https://github.com/Crysp/www/blob/main/docs/_next/static/chunks/8-6c69838eead3d5b0.js" defer="" crossorigin=""></script><script src="https://github.com/Crysp/www/blob/main/docs/_next/static/chunks/490-7cb84c236fbe7c69.js" defer="" crossorigin=""></script><script src="https://github.com/Crysp/www/blob/main/docs/_next/static/chunks/923-b41d7896437ce781.js" defer="" crossorigin=""></script><script src="https://github.com/Crysp/www/blob/main/docs/_next/static/chunks/pages/messages/%5Bid%5D-501a9bfcf83b8a7e.js" defer="" crossorigin=""></script><script src="https://github.com/Crysp/www/blob/main/docs/_next/static/sITQewak9Zi-dmCteOjgT/_buildManifest.js" defer="" crossorigin=""></script><script src="https://github.com/Crysp/www/blob/main/docs/_next/static/sITQewak9Zi-dmCteOjgT/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div data-overlay-container="true"><main class="min-h-screen"><div class="container max-w-screen-lg mx-auto px-5 flex flex-col items-center gap-20"><article class="mb-32"><div class="flex flex-col relative overflow-hidden height-auto text-foreground box-border bg-content1 outline-none data-[focus-visible=true]:z-10 data-[focus-visible=true]:outline-2 data-[focus-visible=true]:outline-focus data-[focus-visible=true]:outline-offset-2 shadow-medium rounded-large transition-transform-background motion-reduce:transition-none max-w-[600px]" tabindex="-1"><div class="p-3 z-10 w-full justify-start items-center shrink-0 overflow-inherit color-inherit subpixel-antialiased rounded-t-large flex gap-3"><div class="relative shadow-black/5 shadow-none rounded-small" style="max-width:40px"> <img src="/tg_cover.png" class="relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100 shadow-none transition-transform-opacity motion-reduce:transition-none !duration-300 rounded-small" alt="logo" height="40" width="40"/></div><div class="flex flex-col"><h2 class="text-md font-semibold">Принципы проектирования приложения</h2><a class="relative inline-flex items-center tap-highlight-transparent outline-none data-[focus-visible=true]:z-10 data-[focus-visible=true]:outline-2 data-[focus-visible=true]:outline-focus data-[focus-visible=true]:outline-offset-2 text-primary no-underline hover:opacity-80 active:opacity-disabled transition-opacity text-small" tabindex="0" role="link" href="https://t.me/naverstal" rel="noopener noreferrer" target="_blank">https://t.me/naverstal</a></div></div><hr class="shrink-0 bg-divider border-none w-full h-divider" role="separator"/><div class="relative flex w-full p-3 flex-auto flex-col place-content-inherit align-items-inherit h-auto break-words text-left overflow-y-auto subpixel-antialiased"><ul class="list-disc flex flex-col my-2 pl-4 gap-2 last:mb-0">
<li>Структура проекта должна рассказывать о его задачах и самостоятельно показывать, как в проект надо погружаться. При первом взгляде на проект должно быть ясно, какие <em>фичи и пользовательские сценарии</em> приложение содержит. Технические аспекты проекта не должны заглушать цели и суть приложения.</li>
<li>Части проекта должны уметь развиваться независимо, а разработку разных фич должно быть реально поделить между разными людьми или командами. Части приложения должно быть можно удалить без страха поломать другие.</li>
<li>Распространение изменений по кодовой базе должно быть ограничено конкретной функцией, модулем или фичей, в которых изменения требовались изначально. Не связанный по смыслу с этими обновлениями код меняться не должен.</li>
<li>Взаимодействие частей проекта должно быть чётким и понятным. Потоки данных должны быть контролируемы, преобразования данных и этапы этих преобразований должны быть явными.</li>
<li>Код и зависимости, участвующие в каждой конкретной задаче должны быть явными. Код, который в задаче не нужен, использоваться и запускаться не должен.</li>
<li>Сторонние инструменты и вспомогательные библиотеки должны иметь чёткую область и границы применения. Удерживать в голове объём кода, который с ними связан и его влияние на проект должно быть ограничено.</li>
<li>Количество неявных входных данных, с которыми работает функция или модуль, должно быть минимально. Объём и размеры данных, ресурсов и зависимостей, которые участвуют в работе должны быть отслеживаемы и измеряемы, чтобы мы могли контролировать их рост и потребление. Внезапные и непропорциональные «всплески» этих ресурсов должны быть легко заметны.</li>
<li>Проект не должен требовать принимать «большие решения», пока мы не изучим предметную область, ограничения и приоритеты бизнеса.</li>
<li>Мы хотим понимать, какие инструменты нам стоит интегрировать в проект. Должно быть очевидно, какие инструменты подходят под нашу задачу, какие есть риски от их внедрения, и какая степень интеграции будет оправдана. Тулинг не должен диктовать принципы работы и создавать неоправданные ограничения для задач, которые приносят деньги.</li>
<li>На ранних этапах мы хотим избежать лишних обобщений. Обобщения и правила должны выработаться эволюционно, в конкурентной среде, опираясь на пользу, которую они приносят.</li>
<li>Тесты должны ловить регрессии и не должны мешать разработке. Желательно избежать «хрупких тестов», «тестового трения» и «урона от тестов». Тесты должны быть устойчивы к рефакторингу и расширению функциональности.</li>
<li>Кода, который неясно, как тестировать, быть не должно. Каждая часть проекта должна решать чётко определённую задачу, а результат её должно быть просто и очевидно как протестировать.</li>
<li>Инфраструктурный код («клей», который держит всё вместе) не должен переплетаться с бизнес-логикой (которая содержит идеи, приносящие деньги).</li>
<li>Смежные задачи вроде аналитики, интернационализации, перформанс-тулинга также не должны влиять на код бизнес-логики, если это не оправдано пользовательскими сценариями.</li>
</ul>
<div class="my-2 last:mb-0">Все перечисленные проблемы мы можем переформулировать в виде принципов, которых будем придерживаться при проектировании и разработке:</div>
<ul class="list-disc flex flex-col my-2 pl-4 gap-2 last:mb-0">
<li>Главной частью приложения должна быть бизнес-логика.</li>
<li>Структура проекта должна отражать суть приложения.</li>
<li>Влияние инфраструктуры, UI и смежных задач должно быть минимально.</li>
<li>Код должно быть легко (и понятно как) тестировать.</li>
<li>Модули должны быть максимально независимы.</li>
<li>Код не должен принуждать к серьёзным решениям на ранних этапах.</li>
</ul>
<div class="my-2 last:mb-0">Каждый из этих принципов мы развернём в последующих постах и испробуем на практике.</div></div><div class="p-3 h-auto w-full items-center overflow-hidden color-inherit subpixel-antialiased rounded-b-large flex justify-end"><p class="text-xs text-default-500">18 Jun 2023, 02:22</p></div></div></article></div></main></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"id":"app-projecting-base","meta":{"title":"Принципы проектирования приложения","publishedAt":"2023-06-17T22:22:00.000Z"},"content":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    ul: \"ul\",\n    li: \"li\",\n    em: \"em\",\n    p: \"p\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Структура проекта должна рассказывать о его задачах и самостоятельно показывать, как в проект надо погружаться. При первом взгляде на проект должно быть ясно, какие \", _jsx(_components.em, {\n          children: \"фичи и пользовательские сценарии\"\n        }), \" приложение содержит. Технические аспекты проекта не должны заглушать цели и суть приложения.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Части проекта должны уметь развиваться независимо, а разработку разных фич должно быть реально поделить между разными людьми или командами. Части приложения должно быть можно удалить без страха поломать другие.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Распространение изменений по кодовой базе должно быть ограничено конкретной функцией, модулем или фичей, в которых изменения требовались изначально. Не связанный по смыслу с этими обновлениями код меняться не должен.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Взаимодействие частей проекта должно быть чётким и понятным. Потоки данных должны быть контролируемы, преобразования данных и этапы этих преобразований должны быть явными.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Код и зависимости, участвующие в каждой конкретной задаче должны быть явными. Код, который в задаче не нужен, использоваться и запускаться не должен.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Сторонние инструменты и вспомогательные библиотеки должны иметь чёткую область и границы применения. Удерживать в голове объём кода, который с ними связан и его влияние на проект должно быть ограничено.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Количество неявных входных данных, с которыми работает функция или модуль, должно быть минимально. Объём и размеры данных, ресурсов и зависимостей, которые участвуют в работе должны быть отслеживаемы и измеряемы, чтобы мы могли контролировать их рост и потребление. Внезапные и непропорциональные «всплески» этих ресурсов должны быть легко заметны.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Проект не должен требовать принимать «большие решения», пока мы не изучим предметную область, ограничения и приоритеты бизнеса.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Мы хотим понимать, какие инструменты нам стоит интегрировать в проект. Должно быть очевидно, какие инструменты подходят под нашу задачу, какие есть риски от их внедрения, и какая степень интеграции будет оправдана. Тулинг не должен диктовать принципы работы и создавать неоправданные ограничения для задач, которые приносят деньги.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"На ранних этапах мы хотим избежать лишних обобщений. Обобщения и правила должны выработаться эволюционно, в конкурентной среде, опираясь на пользу, которую они приносят.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Тесты должны ловить регрессии и не должны мешать разработке. Желательно избежать «хрупких тестов», «тестового трения» и «урона от тестов». Тесты должны быть устойчивы к рефакторингу и расширению функциональности.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Кода, который неясно, как тестировать, быть не должно. Каждая часть проекта должна решать чётко определённую задачу, а результат её должно быть просто и очевидно как протестировать.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Инфраструктурный код («клей», который держит всё вместе) не должен переплетаться с бизнес-логикой (которая содержит идеи, приносящие деньги).\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Смежные задачи вроде аналитики, интернационализации, перформанс-тулинга также не должны влиять на код бизнес-логики, если это не оправдано пользовательскими сценариями.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Все перечисленные проблемы мы можем переформулировать в виде принципов, которых будем придерживаться при проектировании и разработке:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Главной частью приложения должна быть бизнес-логика.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Структура проекта должна отражать суть приложения.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Влияние инфраструктуры, UI и смежных задач должно быть минимально.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Код должно быть легко (и понятно как) тестировать.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Модули должны быть максимально независимы.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Код не должен принуждать к серьёзным решениям на ранних этапах.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Каждый из этих принципов мы развернём в последующих постах и испробуем на практике.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n"},"__N_SSG":true},"page":"/messages/[id]","query":{"id":"app-projecting-base"},"buildId":"sITQewak9Zi-dmCteOjgT","assetPrefix":"https://github.com/Crysp/www/blob/main/docs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>