---
title: Принципы проектирования приложения
source: https://t.me/naverstal
published_at: 2023-06-17T22:22:00
---
- Структура проекта должна рассказывать о его задачах и самостоятельно показывать, как в проект надо погружаться. При первом взгляде на проект должно быть ясно, какие _фичи и пользовательские сценарии_ приложение содержит. Технические аспекты проекта не должны заглушать цели и суть приложения.
- Части проекта должны уметь развиваться независимо, а разработку разных фич должно быть реально поделить между разными людьми или командами. Части приложения должно быть можно удалить без страха поломать другие.
- Распространение изменений по кодовой базе должно быть ограничено конкретной функцией, модулем или фичей, в которых изменения требовались изначально. Не связанный по смыслу с этими обновлениями код меняться не должен.
- Взаимодействие частей проекта должно быть чётким и понятным. Потоки данных должны быть контролируемы, преобразования данных и этапы этих преобразований должны быть явными.
- Код и зависимости, участвующие в каждой конкретной задаче должны быть явными. Код, который в задаче не нужен, использоваться и запускаться не должен.
- Сторонние инструменты и вспомогательные библиотеки должны иметь чёткую область и границы применения. Удерживать в голове объём кода, который с ними связан и его влияние на проект должно быть ограничено.
- Количество неявных входных данных, с которыми работает функция или модуль, должно быть минимально. Объём и размеры данных, ресурсов и зависимостей, которые участвуют в работе должны быть отслеживаемы и измеряемы, чтобы мы могли контролировать их рост и потребление. Внезапные и непропорциональные «всплески» этих ресурсов должны быть легко заметны.
- Проект не должен требовать принимать «большие решения», пока мы не изучим предметную область, ограничения и приоритеты бизнеса.
- Мы хотим понимать, какие инструменты нам стоит интегрировать в проект. Должно быть очевидно, какие инструменты подходят под нашу задачу, какие есть риски от их внедрения, и какая степень интеграции будет оправдана. Тулинг не должен диктовать принципы работы и создавать неоправданные ограничения для задач, которые приносят деньги.
- На ранних этапах мы хотим избежать лишних обобщений. Обобщения и правила должны выработаться эволюционно, в конкурентной среде, опираясь на пользу, которую они приносят.
- Тесты должны ловить регрессии и не должны мешать разработке. Желательно избежать «хрупких тестов», «тестового трения» и «урона от тестов». Тесты должны быть устойчивы к рефакторингу и расширению функциональности.
- Кода, который неясно, как тестировать, быть не должно. Каждая часть проекта должна решать чётко определённую задачу, а результат её должно быть просто и очевидно как протестировать.
- Инфраструктурный код («клей», который держит всё вместе) не должен переплетаться с бизнес-логикой (которая содержит идеи, приносящие деньги).
- Смежные задачи вроде аналитики, интернационализации, перформанс-тулинга также не должны влиять на код бизнес-логики, если это не оправдано пользовательскими сценариями.

Все перечисленные проблемы мы можем переформулировать в виде принципов, которых будем придерживаться при проектировании и разработке:

- Главной частью приложения должна быть бизнес-логика.
- Структура проекта должна отражать суть приложения.
- Влияние инфраструктуры, UI и смежных задач должно быть минимально.
- Код должно быть легко (и понятно как) тестировать.
- Модули должны быть максимально независимы.
- Код не должен принуждать к серьёзным решениям на ранних этапах.

Каждый из этих принципов мы развернём в последующих постах и испробуем на практике.
